<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Web Project</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
      p {
        text-align: justify;
      }
      /* Header */
      .header {
        background-color: #1a1a1a;
        padding: 10px 0;
      }

      .header-content {
        max-width: 1200px;
        margin: 0 auto;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0 20px;
      }

      .logo {
        color: #fff;
        font-size: 24px;
        font-weight: bold;
      }

      .search-container {
        display: flex;
        align-items: center;
      }

      .search-box {
        padding: 8px 15px;
        border: none;
        border-radius: 3px 0 0 3px;
        width: 300px;
      }

      .search-btn {
        background-color: #ffd700;
        border: none;
        padding: 8px 15px;
        border-radius: 0 3px 3px 0;
        cursor: pointer;
        font-weight: bold;
      }

      .user-icon {
        width: 30px;
        height: 30px;
        background-color: #fff;
        border-radius: 50%;
        margin-left: 20px;
      }

      /* Navigation */
      .nav {
        background-color: #333;
        padding: 0;
      }

      .nav-content {
        max-width: 1200px;
        margin: 0 auto;
        display: flex;
        padding: 0 20px;
      }

      .nav-item {
        color: #fff;
        text-decoration: none;
        padding: 12px 20px;
        transition: background-color 0.3s;
      }

      .nav-item:hover {
        background-color: #555;
      }

      .nav-item.active {
        background-color: #ffd700;
        color: #000;
      }

      /* Footer */
      .footer {
        background-color: #1a1a1a;
        color: #fff;
        padding: 40px 0 20px 0;
        width: 100%;
      }

      .footer-content {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
        display: grid;
        grid-template-columns: repeat(5, 1fr);
        gap: 30px;
      }

      .footer-section h4 {
        margin-bottom: 15px;
        font-size: 16px;
      }

      .footer-section ul {
        list-style: none;
        padding-left: 0;
      }

      .footer-section li {
        margin-bottom: 8px;
      }

      .footer-section a {
        color: #ccc;
        text-decoration: none;
        font-size: 14px;
      }

      .footer-section a:hover {
        color: #fff;
      }

      .footer-bottom {
        border-top: 1px solid #333;
        margin-top: 30px;
        padding-top: 20px;
        text-align: center;
        color: #ccc;
        font-size: 14px;
        max-width: 1200px;
        margin-left: auto;
        margin-right: auto;
        padding-left: 20px;
        padding-right: 20px;
      }

      /* Main content container */
      .main-container {
        min-height: calc(
          100vh - 200px
        ); /* Adjust based on header/footer height */
        padding: 20px 0;
      }

      /* Modern content styling */
      .article-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 30px;
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }

      .article-card {
        background: white;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        margin-bottom: 30px;
      }

      .article-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
      }

      .article-image {
        width: 100%;
        height: 300px;
        object-fit: cover;
        transition: transform 0.5s ease;
      }

      .article-card:hover .article-image {
        transform: scale(1.03);
      }

      .article-content {
        padding: 25px;
      }

      .article-title {
        font-size: 22px;
        font-weight: 700;
        line-height: 1.3;
        margin-bottom: 15px;
        color: #222;
      }

      .article-text {
        font-size: 16px;
        color: #444;
        line-height: 1.6;
        margin-bottom: 20px;
      }

      .read-more {
        display: inline-block;
        color: #007bff;
        font-weight: 600;
        text-decoration: none;
        transition: color 0.3s;
      }

      .read-more:hover {
        color: #0056b3;
      }

      .article-meta {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: #777;
        border-top: 1px solid #eee;
        padding-top: 15px;
        margin-top: 20px;
      }

      .social-share {
        display: flex;
        gap: 10px;
      }

      .social-share a {
        color: #777;
        transition: color 0.3s;
      }

      .social-share a:hover {
        color: #007bff;
      }

      /* News cards section */
      .news-cards-section {
        margin: 60px 0;
        padding: 40px 0;
        background-color: #f8f9fa;
      }

      .news-cards-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 20px;
        margin-top: 20px;
        max-width: 1300px;
        margin-left: auto;
        margin-right: auto;
        padding: 0 20px;
      }

      .news-card {
        background: white;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        cursor: pointer;
      }

      .news-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
      }

      .news-card-image {
        width: 100%;
        height: 200px;
        object-fit: cover;
        transition: transform 0.3s ease;
      }

      .news-card:hover .news-card-image {
        transform: scale(1.05);
      }

      .news-card-content {
        padding: 20px;
      }

      .news-card-category {
        display: inline-block;
        background: #007bff;
        color: white;
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 600;
        text-transform: uppercase;
        margin-bottom: 12px;
      }

      .news-card-category.politics {
        background: #dc3545;
      }
      .news-card-category.sports {
        background: #28a745;
      }
      .news-card-category.technology {
        background: #6f42c1;
      }
      .news-card-category.entertainment {
        background: #fd7e14;
      }
      .news-card-category.world {
        background: #20c997;
      }

      .news-card-title {
        font-size: 18px;
        font-weight: 700;
        line-height: 1.4;
        margin-bottom: 12px;
        color: #333;
        display: -webkit-box;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }

      .news-card-description {
        font-size: 14px;
        color: #666;
        line-height: 1.5;
        margin-bottom: 16px;
        display: -webkit-box;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }

      .news-card-meta {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 12px;
        color: #999;
        border-top: 1px solid #eee;
        padding-top: 12px;
      }

      .news-cards-loading {
        text-align: center;
        padding: 40px;
        color: #666;
      }

      .news-cards-error {
        text-align: center;
        padding: 40px;
        color: #dc3545;
        background: #f8f9fa;
        border-radius: 8px;
      }

      .section__title {
        font-size: 32px;
        font-weight: 800;
        color: #333;
        margin-bottom: 8px;
        text-align: center;
      }

      .section__subtitle {
        font-size: 16px;
        color: #666;
        margin-bottom: 30px;
        text-align: center;
      }

      /* Responsive adjustments */
      @media (max-width: 1200px) {
        .news-cards-grid {
          grid-template-columns: repeat(2, 1fr);
        }
        
        .article-grid {
          gap: 20px;
        }
      }

      @media (max-width: 992px) {
        .article-grid {
          grid-template-columns: 1fr;
        }
        
        .footer-content {
          grid-template-columns: repeat(3, 1fr);
        }
      }

      @media (max-width: 768px) {
        .news-cards-grid {
          grid-template-columns: 1fr;
        }
        
        .footer-content {
          grid-template-columns: repeat(2, 1fr);
        }
        
        .nav-content {
          flex-wrap: wrap;
        }
        
        .search-box {
          width: 200px;
        }
      }

      @media (max-width: 576px) {
        .footer-content {
          grid-template-columns: 1fr;
        }
        
        .header-content {
          flex-direction: column;
          gap: 15px;
        }
        
        .search-container {
          width: 100%;
          justify-content: center;
        }
        
        .search-box {
          width: 70%;
        }
      }
    </style>
  </head>
  <body>
    <!-- Header -->
    <header class="header">
      <div class="header-content">
        <div class="logo">Echo.NEWS</div>
        <div class="search-container">
          <input type="text" class="search-box" placeholder="Search here..." />
          <button class="search-btn">Search</button>
        </div>
        <div>
          <a href="adminAirticle.html" class="nav-item">ADD</a>
        </div>
      </div>
    </header>
    <!-- Navigation -->
    <nav class="nav">
      <div class="nav-content">
        <a href="../index.html" class="nav-item">Home</a>
        <a href="latestNews.html" class="nav-item">Latest News</a>
        <a href="newsWorld.html" class="nav-item">WORLD</a>
        <a href="" class="nav-item">ARTICLE</a>
        <a href="" class="nav-item">DASHBOARD</a>
        <a href="contactUs.html" class="nav-item active">CONTACT US</a>
        <a href="../login.html" class="nav-item">LOGIN</a>
      </div>
    </nav>

    <div class="main-container">
      <div class="article-grid">
        <!-- First article card -->
        <div class="article-card">
          <img src="../assets/poli6.jpg" alt="Trump news" class="article-image" />
          <div class="article-content">
            <h3 class="article-title">Trump Seeks to Rebrand Department of Defense in Department of War</h3>
            <p class="article-text">
              President Donald Trump is making every effort to ensure Americans
              cannot see his bruised right hand. On Tuesday, the White House posted
              a video of Trump promoting the Department of Housing and Urban
              Development's Innovative Housing Showcase to X. Throughout the video,
              Trump's left hand covers his right one.<br /><br />
              The persistent bruising on Trump's right hand has led to questions
              about the president's physical health, particularly after his recent
              brief absence from the public eye led some to wonder if he had died.
              Former U.S. President Donald Trump has remained at the center of both
              domestic and international news, projecting a strong public image
              while confronting a wave of political and personal challenges.
            </p>
            <a href="#" class="read-more">Continue reading</a>
            <div class="article-meta">
              <span>June 15, 2024</span>
              <div class="social-share">
                <a href="#"><i class="fab fa-facebook"></i></a>
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fas fa-link"></i></a>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Second article card -->
        <div class="article-card">
          <img src="../assets/poli2.jpg" alt="France China relations" class="article-image" />
          <div class="article-content">
            <h3 class="article-title">France Upset Over Chinese Spy Balloon Leads to a Diplomatic Crisis</h3>
            <p class="article-text">
              World leaders gathered for a high-level summit, bringing together
              representatives of the G7 nations to discuss pressing global
              challenges ranging from economic recovery to international security.
              Seated around the negotiation table with their national flags
              prominently displayed behind them, leaders from the United States,
              Canada, France, Germany, Italy, Japan, and the United Kingdom
              exchanged views on strategies to stabilize global markets, strengthen
              multilateral cooperation, and coordinate responses to climate change
              and geopolitical tensions.
            </p>
            <a href="#" class="read-more">Continue reading</a>
            <div class="article-meta">
              <span>June 14, 2024</span>
              <div class="social-share">
                <a href="#"><i class="fab fa-facebook"></i></a>
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fas fa-link"></i></a>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Third article card -->
        <div class="article-card">
          <img src="../assets/poli5.jpg" alt="Government speaking" class="article-image" />
          <div class="article-content">
            <h3 class="article-title">The Importance of Communication in Democracy</h3>
            <p class="article-text">
              On a broader level, this image reminds us of the importance of
              communication in democracy. A government leader speaking publicly
              embodies transparency, accountability, and responsibility. Citizens
              depend on such speeches to stay informed, to understand policy
              decisions, and to feel connected to the governing process.<br /><br />
              Whether people agree or disagree with the leader's message, the act of
              public speaking itself is a cornerstone of democratic values,
              fostering dialogue between those in power and the people they serve.
            </p>
            <a href="#" class="read-more">Continue reading</a>
            <div class="article-meta">
              <span>June 13, 2024</span>
              <div class="social-share">
                <a href="#"><i class="fab fa-facebook"></i></a>
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fas fa-link"></i></a>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Fourth article card -->
        <div class="article-card">
          <img src="../assets/poli3.jpg" alt="Leadership portrait" class="article-image" />
          <div class="article-content">
            <h3 class="article-title">Symbolism in Leadership Portraits</h3>
            <p class="article-text">
              Such portraits are often created to highlight confidence,
              determination, and strength of character. The subtle details, such as
              the lapel pin symbolizing patriotism and the dignified background, add
              depth to the portrayal. Figures like this are typically
              associated with governance, leadership, or public service,
              representing not only themselves but also the values and identity of
              the people they lead.
            </p>
            <a href="#" class="read-more">Continue reading</a>
            <div class="article-meta">
              <span>June 12, 2024</span>
              <div class="social-share">
                <a href="#"><i class="fab fa-facebook"></i></a>
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fas fa-link"></i></a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Database News Cards Section -->
      <section class="news-cards-section">
        <div class="section__head">
          <h3 class="section__title">Latest from our Newsroom</h3>
          <p class="section__subtitle">
            Stay updated with the most recent stories from our editorial team
          </p>
        </div>
        <div id="newsCardsContainer">
          <div class="news-cards-loading">
            <div
              style="
                display: inline-block;
                width: 20px;
                height: 20px;
                border: 2px solid #f3f3f3;
                border-top: 2px solid #007bff;
                border-radius: 50%;
                animation: spin 1s linear infinite;
              "
            ></div>
            <p style="margin-top: 10px">Loading latest news...</p>
          </div>
        </div>
      </section>
    </div>

    <!-- Footer -->
    <footer class="footer">
      <div class="footer-content">
        <div class="footer-section">
          <h4>Echo.NEWS</h4>
          <ul>
            <li><a href="#">About Us</a></li>
            <li><a href="#">Our Team</a></li>
            <li><a href="#">Careers</a></li>
            <li><a href="#">Contact</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>News</h4>
          <ul>
            <li><a href="#">Latest</a></li>
            <li><a href="#">Breaking</a></li>
            <li><a href="#">Popular</a></li>
            <li><a href="#">Trending</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>Categories</h4>
          <ul>
            <li><a href="#">World</a></li>
            <li><a href="#">Politics</a></li>
            <li><a href="#">Technology</a></li>
            <li><a href="#">Sports</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>Services</h4>
          <ul>
            <li><a href="#">Newsletter</a></li>
            <li><a href="#">RSS Feed</a></li>
            <li><a href="#">Mobile App</a></li>
            <li><a href="#">Archives</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>Legal</h4>
          <ul>
            <li><a href="#">Privacy Policy</a></li>
            <li><a href="#">Terms of Service</a></li>
            <li><a href="#">Cookie Policy</a></li>
            <li><a href="#">DMCA</a></li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2024 Echo.NEWS. All rights reserved.</p>
      </div>
    </footer>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
      crossorigin="anonymous"
    ></script>
    <script>
      const API_BASE_URL = "http://localhost/News/News-Site/api";
      const UPLOADS_BASE_URL = "http://localhost/News/News-Site/uploads";

      const style = document.createElement("style");
      style.textContent = `
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    `;
      document.head.appendChild(style);

      async function loadNewsCards() {
        const container = document.getElementById("newsCardsContainer");

        try {
          const response = await fetch(`${API_BASE_URL}/get_news.php`);
          const result = await response.json();

          if (result.status === "success") {
            const newsData = result.data;

            if (newsData.length === 0) {
              container.innerHTML = `
              <div class="news-cards-error">
                <h3>No News Available</h3>
                <p>No news articles have been published yet. Check back later for updates!</p>
              </div>
            `;
              return;
            }

            const displayNews = newsData.slice(0, 4);

            const gridHTML = `
            <div class="news-cards-grid">
              ${displayNews.map((news) => createNewsCard(news)).join("")}
            </div>
          `;

            container.innerHTML = gridHTML;

            updateStats(newsData.length);
          } else {
            throw new Error(result.message || "Failed to load news");
          }
        } catch (error) {
          console.error("Error loading news cards:", error);
          container.innerHTML = `
          <div class="news-cards-error">
            <h3>Error Loading News</h3>
            <p>Unable to load news articles. Please check your connection and try again.</p>
            <button onclick="loadNewsCards()" style="margin-top: 10px; padding: 8px 16px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;">Retry</button>
          </div>
        `;
        }
      }

      function createNewsCard(news) {
        const defaultImage =
          "https://images.unsplash.com/photo-1504711434969-e33886168f5c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80";
        const imageUrl = news.image_url
          ? `${UPLOADS_BASE_URL}/${news.image_url}`
          : defaultImage;

        const truncatedTitle =
          news.title.length > 60
            ? news.title.substring(0, 60) + "..."
            : news.title;
        const truncatedDesc =
          news.description.length > 100
            ? news.description.substring(0, 100) + "..."
            : news.description;

        return `
        <div class="news-card" onclick="openNewsDetail(${news.id})">
          <img src="${imageUrl}" alt="${news.title}" class="news-card-image" 
               onerror="this.src='${defaultImage}'">
          <div class="news-card-content">
            <span class="news-card-category ${news.category.toLowerCase()}">${
          news.category
        }</span>
            <h3 class="news-card-title">${truncatedTitle}</h3>
            <p class="news-card-description">${truncatedDesc}</p>
            <div class="news-card-meta">
              <span>üìÖ ${news.formatted_date}</span>
              <span>üëÅÔ∏è Read more</span>
            </div>
          </div>
        </div>
      `;
      }

      function openNewsDetail(newsId) {
        window.location.href = `pages/news-detail.html?id=${newsId}`;
      }

      function updateStats(totalNews) {
        const statStories = document.getElementById("statStories");
        if (statStories) {
          statStories.textContent = totalNews;
        }
      }
      document.addEventListener("DOMContentLoaded", function () {
        loadNewsCards();
      });
      setInterval(loadNewsCards, 120000);
    </script>
  </body>
</html>